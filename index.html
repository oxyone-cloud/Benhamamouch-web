<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { margin: 0; overflow: hidden; background: #050505; }
        /* Ton code CSS */
        #ui {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            font-family: sans-serif;
            background: rgba(0,0,0,0.7);
            padding: 15px;
            border-radius: 8px;
            z-index: 1000;
            border: 1px solid #00aaff;
            width: 180px;
        }
        .temp { font-size: 24px; color: #00aaff; font-weight: bold; }
        input { width: 100%; cursor: pointer; }
    </style>
</head>
<body>

    <div id="ui">
        <div style="font-size: 10px; color: #888;">CAPTEUR N°1</div>
        <div id="val" class="temp">4.0°C</div>
        <input type="range" id="slider" min="-20" max="15" value="4" step="0.1">
        <div id="msg" style="font-size: 12px; color: #00ff88; margin-top:5px;">NORMAL</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Lumière et Grille
        scene.add(new THREE.AmbientLight(0xffffff, 0.8));
        scene.add(new THREE.GridHelper(20, 20, 0x444444, 0x222222));

        // Chambre Froide (Cube)
        const geo = new THREE.BoxGeometry(8, 5, 8);
        const mat = new THREE.MeshStandardMaterial({ color: 0x00aaff, transparent: true, opacity: 0.2 });
        const box = new THREE.Mesh(geo, mat);
        box.position.y = 2.5;
        scene.add(box);

        const edgeMat = new THREE.LineBasicMaterial({ color: 0x00aaff });
        const wire = new THREE.LineSegments(new THREE.EdgesGeometry(geo), edgeMat);
        wire.position.y = 2.5;
        scene.add(wire);

        camera.position.set(10, 10, 10);
        camera.lookAt(0, 2.5, 0);

        // Logique Slider
        const slider = document.getElementById('slider');
        const valTxt = document.getElementById('val');
        const msgTxt = document.getElementById('msg');

        slider.oninput = function() {
            const v = parseFloat(this.value);
            valTxt.innerText = v.toFixed(1) + "°C";
            if(v > 7) {
                edgeMat.color.setHex(0xff4444);
                valTxt.style.color = "#ff4444";
                msgTxt.innerText = "ALERTE";
                msgTxt.style.color = "#ff4444";
            } else {
                edgeMat.color.setHex(0x00aaff);
                valTxt.style.color = "#00aaff";
                msgTxt.innerText = "NORMAL";
                msgTxt.style.color = "#00ff88";
            }
        };

        function animate() { requestAnimationFrame(animate); renderer.render(scene, camera); }
        animate();
    </script>
</body>
</html>
